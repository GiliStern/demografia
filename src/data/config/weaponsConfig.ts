import { icons, sprites } from "../../assets/assetPaths";
import type { WeaponDefinition } from "../../types";
import { PassiveId, WeaponId } from "../../types";

const weaponSprites = {
  prickly: sprites.prickly,
  chair: sprites.chair,
  chicken: sprites.chicken,
  pita: sprites.pita,
  star: sprites.starOfDavid,
};

const weaponIcons = {
  chair: icons.chair,
  chicken: icons.chicken,
  pita: icons.pita,
  star: icons.starOfDavid,
};

export const WEAPONS: Record<WeaponId, WeaponDefinition> = {
  [WeaponId.Sabra]: {
    id: WeaponId.Sabra,
    name_he: "צבר",
    description_he: "יורה פירות צבר קוצניים אל האויב הקרוב.",
    type: "projectile_closest",
    shouldSpin: false,
    stats: {
      damage: 5,
      speed: 10,
      cooldown: 2,
      duration: 3,
      area: 1,
      amount: 1,
      pierce: 0,
    },
    maxLevel: 8,
    levels: [
      { level: 2, description: "+1 קליע", statChanges: { add: { amount: 1 } } },
      {
        level: 3,
        description: "-0.5 שנ׳ קירור",
        statChanges: { add: { cooldown: -0.5 } },
      },
      { level: 4, description: "+1 קליע", statChanges: { add: { amount: 1 } } },
      {
        level: 5,
        description: "+10 נזק",
        statChanges: { add: { damage: 10 } },
      },
      { level: 6, description: "+1 קליע", statChanges: { add: { amount: 1 } } },
      {
        level: 7,
        description: "+10 נזק",
        statChanges: { add: { damage: 10 } },
      },
      {
        level: 8,
        description: "+1 חדירה",
        statChanges: { add: { pierce: 1 } },
      },
    ],
    evolution: {
      passiveRequired: PassiveId.Wassach,
      evolvesTo: WeaponId.HolyCactus,
    },
    sprite_config: {
      textureUrl: weaponSprites.prickly,
      iconUrl: weaponSprites.prickly,
      index: 0,
      spriteFrameSize: 256,
      scale: 1,
    },
  },
  [WeaponId.KeterChairs]: {
    id: WeaponId.KeterChairs,
    name_he: "כסאות כתר",
    description_he: "כיסאות פלסטיק מחזירים ופוגעים במסך.",
    type: "projectile_bounce",
    stats: {
      damage: 10,
      speed: 8,
      cooldown: 3,
      duration: 5,
      area: 1,
      amount: 1,
      pierce: 99,
    },
    shouldSpin: true,
    maxLevel: 8,
    levels: [
      {
        level: 2,
        description: "+25% מהירות",
        statChanges: { mult: { speed: 1.25 } },
      },
      { level: 3, description: "+5 נזק", statChanges: { add: { damage: 5 } } },
      {
        level: 4,
        description: "+0.4 משך",
        statChanges: { add: { duration: 0.4 } },
      },
      { level: 5, description: "+1 כיסא", statChanges: { add: { amount: 1 } } },
      { level: 6, description: "+5 נזק", statChanges: { add: { damage: 5 } } },
      { level: 7, description: "+1 כיסא", statChanges: { add: { amount: 1 } } },
      {
        level: 8,
        description: "+0.4 משך",
        statChanges: { add: { duration: 0.4 } },
      },
    ],
    evolution: {
      passiveRequired: PassiveId.Protection,
      evolvesTo: WeaponId.NoFuture,
    },
    sprite_config: {
      textureUrl: weaponSprites.chair,
      iconUrl: weaponIcons.chair,
      index: 0,
      spriteFrameSize: 170,
      scale: 2,
    },
  },
  [WeaponId.Kaparot]: {
    id: WeaponId.Kaparot,
    name_he: "כפרות",
    description_he: "תרנגולות מסתובבות בהקפה סביב הדמות.",
    type: "orbital",
    shouldSpin: true,
    stats: {
      damage: 2,
      speed: 3,
      cooldown: 6,
      duration: 3,
      area: 1,
      amount: 1,
      pierce: 99,
    },
    maxLevel: 8,
    levels: [
      {
        level: 2,
        description: "+40% שטח",
        statChanges: { mult: { area: 1.4 } },
      },
      {
        level: 3,
        description: "+40% מהירות, +0.5 משך",
        statChanges: { mult: { speed: 1.4 }, add: { duration: 0.5 } },
      },
      {
        level: 4,
        description: "+2 נזק",
        statChanges: { add: { damage: 2 } },
      },
      {
        level: 5,
        description: "+1 תרנגולת",
        statChanges: { add: { amount: 1 } },
      },
      {
        level: 6,
        description: "+40% שטח",
        statChanges: { mult: { area: 1.4 } },
      },
      {
        level: 7,
        description: "+1 תרנגולת",
        statChanges: { add: { amount: 1 } },
      },
      {
        level: 8,
        description: "+3 נזק",
        statChanges: { add: { damage: 3 } },
      },
    ],
    evolution: {
      passiveRequired: PassiveId.Extension,
      evolvesTo: WeaponId.UnholySelichot,
    },
    sprite_config: {
      textureUrl: weaponSprites.chicken,
      iconUrl: weaponIcons.chicken,
      index: 0,
      spriteFrameSize: 170,
      scale: 1,
    },
  },
  [WeaponId.Pitas]: {
    id: WeaponId.Pitas,
    name_he: "פיתות",
    description_he: "זורק פיתה בקשת גבוהה עם פגיעה חזקה.",
    type: "projectile_arc",
    shouldSpin: true,
    stats: {
      damage: 20,
      speed: 8,
      cooldown: 4,
      duration: 2,
      area: 1,
      amount: 1,
      pierce: 0,
    },
    maxLevel: 8,
    levels: [
      { level: 2, description: "+1 כמות", statChanges: { add: { amount: 1 } } },
      {
        level: 3,
        description: "+10 נזק",
        statChanges: { add: { damage: 10 } },
      },
      {
        level: 4,
        description: "+20% שטח",
        statChanges: { mult: { area: 1.2 } },
      },
      { level: 5, description: "+1 כמות", statChanges: { add: { amount: 1 } } },
      {
        level: 6,
        description: "+10 נזק",
        statChanges: { add: { damage: 10 } },
      },
      {
        level: 7,
        description: "+20% שטח",
        statChanges: { mult: { area: 1.2 } },
      },
      {
        level: 8,
        description: "+1 חדירה",
        statChanges: { add: { pierce: 1 } },
      },
    ],
    evolution: {
      passiveRequired: PassiveId.ShabbatCandles,
      evolvesTo: WeaponId.BurekasOfDeath,
    },
    sprite_config: {
      textureUrl: weaponSprites.pita,
      iconUrl: weaponIcons.pita,
      index: 0,
      spriteFrameSize: 256,
      scale: 1,
    },
  },
  [WeaponId.StarOfDavid]: {
    id: WeaponId.StarOfDavid,
    name_he: "מגן דוד",
    description_he: "כוכבים חדים נורים לכיוון התנועה.",
    type: "projectile_directional",
    shouldSpin: true,
    stats: {
      damage: 6.5,
      speed: 28,
      cooldown: 1,
      duration: 1.5,
      area: 1,
      amount: 1,
      pierce: 0,
    },
    maxLevel: 8,
    levels: [
      { level: 2, description: "+1 כמות", statChanges: { add: { amount: 1 } } },
      {
        level: 3,
        description: "+1 כמות, +5 נזק",
        statChanges: { add: { amount: 1, damage: 5 } },
      },
      { level: 4, description: "+1 כמות", statChanges: { add: { amount: 1 } } },
      {
        level: 5,
        description: "+1 חדירה",
        statChanges: { add: { pierce: 1 } },
      },
      { level: 6, description: "+1 כמות", statChanges: { add: { amount: 1 } } },
      {
        level: 7,
        description: "+1 כמות, +5 נזק",
        statChanges: { add: { amount: 1, damage: 5 } },
      },
      {
        level: 8,
        description: "+1 חדירה",
        statChanges: { add: { pierce: 1 } },
      },
    ],
    evolution: {
      passiveRequired: PassiveId.OutstretchedArm,
      evolvesTo: WeaponId.ThousandEdge,
    },
    sprite_config: {
      textureUrl: weaponSprites.star,
      iconUrl: weaponIcons.star,
      index: 0,
      spriteFrameSize: 256,
      scale: 1,
    },
  },
  [WeaponId.HolyCactus]: {
    id: WeaponId.HolyCactus,
    name_he: "קקטוס קדוש",
    description_he: "זרם קבוע של פירות צבר ללא קירור.",
    type: "projectile_closest",
    shouldSpin: false,
    stats: {
      damage: 20,
      speed: 10,
      cooldown: 0.2,
      duration: 3,
      area: 1,
      amount: 1,
      pierce: 2,
    },
    sprite_config: {
      textureUrl: weaponSprites.prickly,
      index: 0,
      spriteFrameSize: 256,
      scale: 1,
    },
  },
  [WeaponId.NoFuture]: {
    id: WeaponId.NoFuture,
    name_he: "אין עתיד",
    description_he: "כיסאות מהירים עם התפוצצות בכל ניתור.",
    type: "projectile_bounce",
    shouldSpin: false,
    stats: {
      damage: 20,
      speed: 14,
      cooldown: 2.5,
      duration: 6,
      area: 1.2,
      amount: 2,
      pierce: 99,
    },
    sprite_config: {
      textureUrl: weaponSprites.chair,
      index: 0,
      spriteFrameSize: 512,
      scale: 1,
    },
  },
  [WeaponId.UnholySelichot]: {
    id: WeaponId.UnholySelichot,
    name_he: "סליחות לא קדושות",
    description_he: "מגן תרנגולות קבוע ומואץ סביב הדמות.",
    type: "orbital",
    shouldSpin: false,
    stats: {
      damage: 20,
      speed: 5,
      cooldown: 0.5,
      duration: 999,
      area: 2,
      amount: 4,
      pierce: 99,
    },
    sprite_config: {
      textureUrl: weaponSprites.chicken,
      index: 0,
      spriteFrameSize: 170,
      scale: 1,
    },
  },
  [WeaponId.BurekasOfDeath]: {
    id: WeaponId.BurekasOfDeath,
    name_he: "בורקס המוות",
    description_he: "פיצוץ רדיאלי של בורקסים החודרים הכול.",
    type: "projectile_radial",
    shouldSpin: false,
    stats: {
      damage: 35,
      speed: 12,
      cooldown: 2.2,
      duration: 2,
      area: 1.5,
      amount: 8,
      pierce: 99,
    },
    sprite_config: {
      textureUrl: weaponSprites.pita,
      index: 0,
      spriteFrameSize: 256,
      scale: 1,
    },
  },
  [WeaponId.ThousandEdge]: {
    id: WeaponId.ThousandEdge,
    name_he: "אלף חיתוכים",
    description_he: "זרם בלתי פוסק של מגני דוד.",
    type: "projectile_directional",
    shouldSpin: false,
    stats: {
      damage: 12,
      speed: 18,
      cooldown: 0.1,
      duration: 2,
      area: 1,
      amount: 4,
      pierce: 2,
    },
    sprite_config: {
      textureUrl: weaponSprites.star,
      index: 0,
      spriteFrameSize: 256,
      scale: 1,
    },
  },
};
